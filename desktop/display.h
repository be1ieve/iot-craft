#ifndef _DISPLAY_H_
#define _DISPLAY_H_

/*
 * This file contains functions to work with 1.54 inch e-paper
 */

/*
 * For waveshare 1.54inch 200*200 b/w epaper module
 * https://www.waveshare.com/1.54inch-e-paper-module.htm
 * For migrating to Pi Pico, some additional pins must be defined:
 * In epdif.h, add custom pins in "pin definition" section
 * In epdif.cpp, enable custom pins inside "EpdIf::IfInit(void)"
*/
#include "epd1in54_V2.h"
#include "epdpaint.h"

/*
 * Limited image size and reuse it often
 */
unsigned char image[5000]; // (200*200)/8
Paint paint(image, 0, 0); // width should be the multiple of 8 
Epd epd;
#define COLORED     0
#define UNCOLORED   1


/*
 * Used for welcome image
 */
const uint8_t IMAGE_LOGO_WIDTH = 128;
const uint8_t IMAGE_LOGO_HEIGHT = 128;
const unsigned char IMAGE_LOGO[2048] = { /* 0X00,0X01,0X80,0X00,0X80,0X00, */
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0X8F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XC0,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XC0,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XE0,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XF0,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XF8,0X00,0X0F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0XFF,0XFF,0XFF,
0XFC,0X00,0X01,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X01,0XFF,0XFF,0XFF,
0XFE,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X80,0X03,0XFF,0XFF,0XFE,
0XFF,0X00,0X00,0X0F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X00,0X0F,0XFF,0XFF,0XFC,
0XFF,0X80,0X00,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X00,0X00,0X1F,0XFF,0XFF,0XF8,
0XFF,0XC0,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XE0,0X00,0X00,0X3F,0XFF,0XFF,0XF0,
0XFF,0XE0,0X00,0X00,0X1F,0XFC,0X00,0X0F,0XFE,0X00,0X00,0X00,0XFF,0XFF,0XFF,0XC0,
0XFF,0XF0,0X00,0X00,0X0F,0X00,0X00,0X00,0XF0,0X00,0X00,0X01,0XFF,0XFF,0XFF,0X80,
0XFF,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X07,0XFF,0XFF,0XFF,0X00,
0XFF,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X1F,0XFF,0XFF,0XFE,0X00,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X60,0X3F,0XFF,0XFF,0XFC,0X00,
0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X7F,0XFF,0XFF,0XF0,0X00,
0XFF,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X0F,0X81,0XFF,0XFF,0XFF,0XE0,0X00,
0XFF,0XFF,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0X83,0XFF,0XFF,0XFF,0XC0,0X00,
0XFF,0XFF,0XE0,0X40,0X00,0X00,0X00,0X00,0X00,0X7F,0X0F,0XFF,0XFF,0XFF,0X80,0X00,
0XFF,0XFF,0XF9,0X80,0X00,0X00,0X00,0X00,0X01,0XFF,0X1F,0XFF,0XFF,0XFE,0X00,0X00,
0XFF,0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X07,0XFF,0X3F,0XFF,0XFF,0XFC,0X00,0X00,
0XFF,0XFF,0XFE,0X00,0X00,0X00,0X00,0X00,0X1F,0XFF,0X7F,0XFF,0XFF,0XF8,0X00,0X00,
0XFF,0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X1F,0XFE,0XFF,0XFF,0XFF,0XF0,0X00,0X00,
0XFF,0XFF,0XF8,0X00,0X00,0X00,0X00,0X00,0X0F,0XFB,0XFF,0XFF,0XFF,0XC0,0X00,0X00,
0XFF,0XFF,0XF8,0X00,0X00,0X00,0X00,0X00,0X07,0XC7,0XFF,0XFF,0XFF,0X80,0X00,0X00,
0XFF,0XFF,0XF0,0X00,0X00,0X00,0X00,0X00,0X02,0X03,0XFF,0XFF,0XFF,0X00,0X00,0X00,
0XFF,0XFF,0XF0,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0XFF,0XFF,0XFC,0X00,0X00,0X00,
0XFF,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XFF,0XF8,0X00,0X00,0X00,
0XFF,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X7F,0XFF,0XF0,0X00,0X00,0X00,
0XFF,0XFF,0XC3,0XE0,0X00,0X00,0X07,0XF0,0X00,0X00,0X3F,0XFF,0XC0,0X00,0X00,0X01,
0XFF,0XFF,0XC7,0XE0,0X00,0X00,0X0F,0XF8,0X00,0X00,0X3F,0XFF,0X80,0X00,0X00,0X07,
0XFF,0XFF,0X8F,0XF0,0X00,0X00,0X1F,0XFC,0X00,0X00,0X1F,0XFE,0X00,0X00,0X00,0X1F,
0XFF,0XFF,0X9F,0XF0,0X00,0X00,0X1F,0XFC,0X00,0X00,0X0F,0XFC,0X00,0X00,0X00,0X3F,
0XFF,0XFF,0X9F,0XF0,0X00,0X00,0X3F,0XFC,0X00,0X00,0X0F,0XF0,0X00,0X00,0X00,0X7F,
0XFF,0XFF,0X1F,0XF0,0X00,0X00,0X3F,0XFC,0X00,0X00,0X07,0XC0,0X00,0X00,0X01,0XFF,
0XFF,0XFF,0X1F,0XF0,0X00,0X00,0X1F,0XFC,0X00,0X00,0X07,0XC0,0X00,0X00,0X03,0XFF,
0XFF,0XFF,0X0F,0XC0,0X00,0X00,0X1F,0XFC,0X00,0X00,0X07,0XE0,0X00,0X00,0X07,0XFF,
0XFF,0XFE,0X00,0X00,0X00,0X00,0X0F,0XF8,0X00,0X00,0X03,0XF8,0X00,0X00,0X1F,0XFF,
0XFF,0XFE,0X00,0X00,0X00,0X00,0X07,0XF0,0X00,0X00,0X03,0XFC,0X00,0X00,0X3F,0XFF,
0XFF,0XFE,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0XFE,0X00,0X00,0X7F,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X1E,0X00,0X01,0XFF,0X00,0X00,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X7C,0X00,0X00,0X00,0X7F,0X00,0X01,0XFF,0XC0,0X00,0X7F,0XFF,
0XFF,0XFC,0X00,0X00,0X7C,0X00,0X00,0X00,0X7F,0X80,0X00,0XFF,0XE0,0X00,0X3F,0XFF,
0XFF,0XFC,0X00,0X00,0X38,0X00,0X00,0X00,0XFF,0XC0,0X00,0XFF,0XF0,0X00,0X1F,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XC0,0X00,0XFF,0XF8,0X00,0X1F,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XC0,0X00,0XFF,0XFE,0X00,0X0F,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XC0,0X00,0X7F,0XFF,0X00,0X07,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X7F,0X80,0X00,0X7F,0XFE,0X00,0X07,0XFF,
0XFF,0XFC,0X00,0X04,0X3E,0X30,0X00,0X00,0X7E,0X00,0X00,0X7F,0XFC,0X00,0X07,0XFF,
0XFF,0XFC,0X00,0X03,0XF7,0XE0,0X00,0X00,0X00,0X00,0X00,0X3F,0XFC,0X00,0X0F,0XFF,
0XFF,0XFE,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XF8,0X00,0X1F,0XFF,
0XFF,0XFE,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XF0,0X00,0X7F,0XFF,
0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X1F,0XE0,0X00,0XFF,0XFF,
0XFF,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X1F,0XC0,0X01,0XFF,0XFF,
0XFF,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X1F,0X80,0X07,0XFF,0XFF,
0XFF,0XFF,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X0F,0X00,0X0F,0XFF,0XFF,
0XFF,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X0E,0X00,0X1F,0XFF,0XFF,
0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X0C,0X00,0X7F,0XFF,0XFF,
0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XFF,0XFF,
0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0XFF,0XFF,0XFF,
0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XFF,0XFF,0XFF,
0XFF,0XFE,0X00,0X00,0X00,0X00,0X0F,0X00,0X00,0X00,0X00,0X00,0X0F,0XFF,0XFF,0XFF,
0XFF,0XFE,0X00,0X00,0X00,0XFF,0XFE,0X00,0X00,0X00,0X00,0X00,0X1F,0XFF,0XFF,0XFF,
0XFF,0XFE,0X00,0X00,0X01,0XFF,0XF0,0X00,0X00,0X00,0X00,0X00,0X7F,0XFF,0XFF,0XFF,
0XFF,0XFE,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X10,0X00,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X10,0X00,0X00,0X03,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X20,0X00,0X00,0X03,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X20,0X01,0X00,0X03,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X20,0X01,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X60,0X03,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X40,0X03,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X40,0X07,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0X0E,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X0E,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X1C,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X01,0X80,0X38,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X01,0X00,0X78,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X01,0X00,0XF0,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X03,0X00,0XE0,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XF0,0X00,0X00,0X00,0X00,0X03,0X01,0XC0,0X00,0X01,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XE0,0X00,0X00,0X00,0X00,0X01,0X83,0X80,0X00,0X03,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XF0,0X00,0X00,0X00,0X00,0X01,0XE7,0X00,0X00,0X03,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XF0,0X00,0X00,0X00,0X00,0X00,0X7C,0X00,0X00,0X03,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XF0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFE,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFE,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X0F,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X0F,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X0F,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0X80,0X01,0X00,0X00,0X00,0X00,0X00,0X00,0X1F,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XC0,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X1F,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XE0,0X03,0XF0,0X00,0X00,0X00,0X00,0X00,0X3F,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XC0,0X07,0XFF,0X00,0X00,0X00,0X00,0X00,0X3F,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0X80,0X07,0XFF,0XFF,0XF8,0X00,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0X80,0X0F,0XFF,0XFF,0XFF,0X00,0X00,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0X00,0X0F,0XFF,0XFF,0XFF,0X80,0X00,0X01,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0X00,0X1F,0XFF,0XFF,0XFF,0X80,0X00,0X01,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0X00,0X3F,0XFF,0XFF,0XFF,0XC0,0X00,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0X00,0X3F,0XFF,0XFF,0XFF,0XE0,0X00,0X07,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0X00,0X7F,0XFF,0XFF,0XFF,0XF0,0X00,0X0F,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFE,0X00,0X7F,0XFF,0XFF,0XFF,0XF8,0X00,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFE,0X01,0XFF,0XFF,0XFF,0XFF,0XFC,0X00,0X3F,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0X87,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X01,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF8,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF8,0X07,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X0F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X5F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
};


/*
 * Below functions are bounded with waveshare 1.54inch e-Paper display
 * Changing rotation angle or even change display needs to change everything. 
 */
#ifdef epd1in54_V2_H
/*
 * Draw something after power-on and before connected.
 */
void drawEPDWelcome(){
  // put an image at center
  epd.SetFrameMemory(IMAGE_LOGO, 100-int(IMAGE_LOGO_WIDTH/2), 100-int(IMAGE_LOGO_HEIGHT/2), IMAGE_LOGO_WIDTH, IMAGE_LOGO_HEIGHT);
  // write DEVICE_NAME at bottom, 16px height and full 200px width in case the name is too long.
  paint.SetWidth(200);
  paint.SetHeight(16);
  paint.Clear(UNCOLORED);
  paint.DrawStringAt(4,4, DEVICE_NAME, &Font16, COLORED);
  epd.SetFrameMemory(image,0,183, 200,16);
  epd.DisplayFrame();
}

/*
 * This background is for partial update function. a whole 200*200px image applied.
 * Note that there's no specific buffer for background image. So we have to display the image alone then process the rest.
 */
void drawEPDBackground(){
  paint.SetWidth(200);
  paint.SetHeight(200);
  paint.Clear(UNCOLORED);

  // Draw a 30px height banner on top
  paint.DrawFilledRectangle(0,0,200,30,COLORED);
  paint.DrawStringAt(25, 4, "IOT-Craft", &Font24, UNCOLORED);

  epd.DisplayPartBaseImage(image);
}
#endif // epd1in54_V2_H

#endif // _DISPLAY_H_
